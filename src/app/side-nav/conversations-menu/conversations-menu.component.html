<ion-list>
  <ion-item-divider sticky>
    Conversations
  </ion-item-divider>
  <ion-accordion-group (ionChange)="handleFolderChange($event)">
    @for (folder of folders(); track folder.id) {
      <ion-accordion [value]="folder.id">
        <ion-item slot="header" color="light">
          <ion-label>{{ folder.name }}</ion-label>
          <!-- <ion-button>test</ion-button> -->
        </ion-item>
        <div slot="content">
          @for(conversation of map.get(folder.id); track conversation.id) {
            <ion-item (click)="setCurrentConversation(conversation)" routerLink="/home" routerDirection="back">
              <ion-icon name="chatbox-outline" color="secondary" slot="start"></ion-icon>
              <ion-label>
                {{ conversation.name }}
              </ion-label>
            </ion-item>
          }
        </div>
      </ion-accordion>
    }
  </ion-accordion-group>
  @if(!folders().length) {
    <ion-card>
      <ion-item lines="none">
        <ion-label>
          <h1>You don't have any conversations yet.</h1>
          <p>Start a new chat or import existing chat history.</p>
        </ion-label>
        
      </ion-item>
      <div class="ion-padding">
        <ion-button routerLink="/settings/import-conversations" expand="block">Import</ion-button>
      </div>
    </ion-card>
  }
</ion-list>